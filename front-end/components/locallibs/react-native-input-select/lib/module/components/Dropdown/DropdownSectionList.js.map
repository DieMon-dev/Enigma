{"version":3,"names":["React","useEffect","useState","useRef","SectionList","StyleSheet","DropdownListItem","ItemSeparatorComponent","ListEmptyComponent","SectionHeaderTitle","extractPropertyFromArray","DropdownSectionList","_ref","options","optionLabel","optionValue","isMultiple","isSearchable","selectedItems","selectedItem","handleMultipleSelections","handleSingleSelection","primaryColor","checkboxSize","checkboxStyle","checkboxLabelStyle","checkboxComponentStyles","checkboxComponent","listComponentStyles","listIndex","emptyListMessage","rest","expandedSections","setExpandedSections","Set","initialState","handleToggleListExpansion","title","expandedSectionsState","next","has","delete","add","sectionlistRef","scrollToLocation","_sectionlistRef$curre","current","sectionIndex","animated","itemIndex","createElement","_extends","sections","extraData","initialNumToRender","listEmptyComponentStyle","contentContainerStyle","paddingTop","styles","itemSeparatorStyle","renderItem","item","_renderItem","selectedOption","onChange","renderSectionHeader","_ref2","section","sectionHeaderStyle","onPress","isExpanded","keyExtractor","_item","index","stickySectionHeadersEnabled","ref","onScrollToIndexFailed","setTimeout","_ref3","props","create"],"sources":["DropdownSectionList.tsx"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React, { useEffect, useState, useRef } from 'react';\nimport { SectionList, StyleSheet } from 'react-native';\nimport DropdownListItem from './DropdownListItem';\nimport {\n  ItemSeparatorComponent,\n  ListEmptyComponent,\n  SectionHeaderTitle,\n} from '../Others';\nimport { extractPropertyFromArray } from '../../utils';\nimport { TSectionList } from 'src/types/index.types';\n\nconst DropdownSectionList = ({\n  options,\n  optionLabel,\n  optionValue,\n  isMultiple,\n  isSearchable,\n  selectedItems,\n  selectedItem,\n  handleMultipleSelections,\n  handleSingleSelection,\n  primaryColor,\n  checkboxSize,\n  checkboxStyle,\n  checkboxLabelStyle,\n  checkboxComponentStyles,\n  checkboxComponent,\n  listComponentStyles,\n  listIndex,\n  emptyListMessage,\n  ...rest\n}: any) => {\n  const [expandedSections, setExpandedSections] = useState(new Set());\n\n  /**\n   * Expand all sections\n   */\n  useEffect(() => {\n    let initialState = new Set(extractPropertyFromArray(options, 'title'));\n    setExpandedSections(initialState);\n  }, [options]);\n\n  /**\n   * @param title\n   */\n  const handleToggleListExpansion = (title: string) => {\n    setExpandedSections((expandedSectionsState) => {\n      // Using Set here but you can use an array too\n      const next = new Set(expandedSectionsState);\n      if (next.has(title)) {\n        next.delete(title);\n      } else {\n        next.add(title);\n      }\n      return next;\n    });\n  };\n\n  /**\n   * @description Scroll to item location\n   */\n\n  const sectionlistRef = useRef<SectionList<TSectionList>>(null);\n\n  const scrollToLocation = (listIndex: any) => {\n    sectionlistRef.current?.scrollToLocation({\n      sectionIndex: listIndex.sectionIndex,\n      animated: true,\n      itemIndex: listIndex.itemIndex,\n    });\n  };\n\n  useEffect(() => {\n    if (listIndex.itemIndex >= 0 && listIndex.sectionIndex >= 0) {\n      scrollToLocation(listIndex);\n    }\n  }, [listIndex]);\n\n  return (\n    <SectionList\n      sections={options}\n      extraData={isMultiple ? selectedItems : selectedItem}\n      initialNumToRender={5}\n      ListEmptyComponent={\n        <ListEmptyComponent\n          listEmptyComponentStyle={listComponentStyles?.listEmptyComponentStyle}\n          emptyListMessage={emptyListMessage}\n        />\n      }\n      contentContainerStyle={[\n        isSearchable ? { paddingTop: 0 } : styles.contentContainerStyle,\n      ]}\n      ItemSeparatorComponent={() => (\n        <ItemSeparatorComponent\n          itemSeparatorStyle={listComponentStyles?.itemSeparatorStyle}\n        />\n      )}\n      renderItem={(item) =>\n        _renderItem(item, {\n          optionLabel,\n          optionValue,\n          isMultiple,\n          selectedOption: isMultiple ? selectedItems : selectedItem,\n          onChange: isMultiple\n            ? handleMultipleSelections\n            : handleSingleSelection,\n          primaryColor,\n          checkboxSize, // kept for backwards compatibility\n          checkboxStyle, // kept for backwards compatibility\n          checkboxLabelStyle, // kept for backwards compatibility\n          checkboxComponentStyles,\n          checkboxComponent,\n          expandedSections,\n        })\n      }\n      renderSectionHeader={({ section: { title } }) => (\n        <SectionHeaderTitle\n          title={title}\n          sectionHeaderStyle={listComponentStyles?.sectionHeaderStyle}\n          onPress={() => handleToggleListExpansion(title)}\n          isExpanded={expandedSections.has(title)}\n        />\n      )}\n      keyExtractor={(_item, index) => `Options${index}`}\n      stickySectionHeadersEnabled={false}\n      ref={sectionlistRef}\n      onScrollToIndexFailed={() => {\n        setTimeout(() => {\n          scrollToLocation(listIndex);\n        }, 500);\n      }}\n      {...rest}\n    />\n  );\n};\n\nconst _renderItem = ({ section: { title }, item }: any, props: any) => {\n  const isExpanded = props?.expandedSections.has(title);\n\n  //return null if it is not expanded\n  if (!isExpanded) return null;\n\n  return (\n    <DropdownListItem\n      item={item}\n      optionLabel={props.optionLabel}\n      optionValue={props.optionValue}\n      isMultiple={props.isMultiple}\n      selectedOption={props.selectedOption}\n      onChange={props.onChange}\n      primaryColor={props.primaryColor}\n      checkboxSize={props.checkboxSize}\n      checkboxStyle={props.checkboxStyle}\n      checkboxLabelStyle={props.checkboxLabelStyle}\n      checkboxComponentStyles={props.checkboxComponentStyles}\n      checkboxComponent={props.checkboxComponent}\n    />\n  );\n};\n\nconst styles = StyleSheet.create({\n  contentContainerStyle: { paddingTop: 20 },\n});\n\nexport default DropdownSectionList;\n"],"mappings":"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"}