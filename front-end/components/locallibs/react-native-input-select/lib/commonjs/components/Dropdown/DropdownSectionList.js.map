{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_DropdownListItem","_interopRequireDefault","_Others","_utils","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","DropdownSectionList","_ref","options","optionLabel","optionValue","isMultiple","isSearchable","selectedItems","selectedItem","handleMultipleSelections","handleSingleSelection","primaryColor","checkboxSize","checkboxStyle","checkboxLabelStyle","checkboxComponentStyles","checkboxComponent","listComponentStyles","listIndex","emptyListMessage","rest","expandedSections","setExpandedSections","useState","Set","useEffect","initialState","extractPropertyFromArray","handleToggleListExpansion","title","expandedSectionsState","next","delete","add","sectionlistRef","useRef","scrollToLocation","_sectionlistRef$curre","current","sectionIndex","animated","itemIndex","createElement","SectionList","sections","extraData","initialNumToRender","ListEmptyComponent","listEmptyComponentStyle","contentContainerStyle","paddingTop","styles","ItemSeparatorComponent","itemSeparatorStyle","renderItem","item","_renderItem","selectedOption","onChange","renderSectionHeader","_ref2","section","SectionHeaderTitle","sectionHeaderStyle","onPress","isExpanded","keyExtractor","_item","index","stickySectionHeadersEnabled","ref","onScrollToIndexFailed","setTimeout","_ref3","props","StyleSheet","create","_default","exports"],"sources":["DropdownSectionList.tsx"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React, { useEffect, useState, useRef } from 'react';\nimport { SectionList, StyleSheet } from 'react-native';\nimport DropdownListItem from './DropdownListItem';\nimport {\n  ItemSeparatorComponent,\n  ListEmptyComponent,\n  SectionHeaderTitle,\n} from '../Others';\nimport { extractPropertyFromArray } from '../../utils';\nimport { TSectionList } from 'src/types/index.types';\n\nconst DropdownSectionList = ({\n  options,\n  optionLabel,\n  optionValue,\n  isMultiple,\n  isSearchable,\n  selectedItems,\n  selectedItem,\n  handleMultipleSelections,\n  handleSingleSelection,\n  primaryColor,\n  checkboxSize,\n  checkboxStyle,\n  checkboxLabelStyle,\n  checkboxComponentStyles,\n  checkboxComponent,\n  listComponentStyles,\n  listIndex,\n  emptyListMessage,\n  ...rest\n}: any) => {\n  const [expandedSections, setExpandedSections] = useState(new Set());\n\n  /**\n   * Expand all sections\n   */\n  useEffect(() => {\n    let initialState = new Set(extractPropertyFromArray(options, 'title'));\n    setExpandedSections(initialState);\n  }, [options]);\n\n  /**\n   * @param title\n   */\n  const handleToggleListExpansion = (title: string) => {\n    setExpandedSections((expandedSectionsState) => {\n      // Using Set here but you can use an array too\n      const next = new Set(expandedSectionsState);\n      if (next.has(title)) {\n        next.delete(title);\n      } else {\n        next.add(title);\n      }\n      return next;\n    });\n  };\n\n  /**\n   * @description Scroll to item location\n   */\n\n  const sectionlistRef = useRef<SectionList<TSectionList>>(null);\n\n  const scrollToLocation = (listIndex: any) => {\n    sectionlistRef.current?.scrollToLocation({\n      sectionIndex: listIndex.sectionIndex,\n      animated: true,\n      itemIndex: listIndex.itemIndex,\n    });\n  };\n\n  useEffect(() => {\n    if (listIndex.itemIndex >= 0 && listIndex.sectionIndex >= 0) {\n      scrollToLocation(listIndex);\n    }\n  }, [listIndex]);\n\n  return (\n    <SectionList\n      sections={options}\n      extraData={isMultiple ? selectedItems : selectedItem}\n      initialNumToRender={5}\n      ListEmptyComponent={\n        <ListEmptyComponent\n          listEmptyComponentStyle={listComponentStyles?.listEmptyComponentStyle}\n          emptyListMessage={emptyListMessage}\n        />\n      }\n      contentContainerStyle={[\n        isSearchable ? { paddingTop: 0 } : styles.contentContainerStyle,\n      ]}\n      ItemSeparatorComponent={() => (\n        <ItemSeparatorComponent\n          itemSeparatorStyle={listComponentStyles?.itemSeparatorStyle}\n        />\n      )}\n      renderItem={(item) =>\n        _renderItem(item, {\n          optionLabel,\n          optionValue,\n          isMultiple,\n          selectedOption: isMultiple ? selectedItems : selectedItem,\n          onChange: isMultiple\n            ? handleMultipleSelections\n            : handleSingleSelection,\n          primaryColor,\n          checkboxSize, // kept for backwards compatibility\n          checkboxStyle, // kept for backwards compatibility\n          checkboxLabelStyle, // kept for backwards compatibility\n          checkboxComponentStyles,\n          checkboxComponent,\n          expandedSections,\n        })\n      }\n      renderSectionHeader={({ section: { title } }) => (\n        <SectionHeaderTitle\n          title={title}\n          sectionHeaderStyle={listComponentStyles?.sectionHeaderStyle}\n          onPress={() => handleToggleListExpansion(title)}\n          isExpanded={expandedSections.has(title)}\n        />\n      )}\n      keyExtractor={(_item, index) => `Options${index}`}\n      stickySectionHeadersEnabled={false}\n      ref={sectionlistRef}\n      onScrollToIndexFailed={() => {\n        setTimeout(() => {\n          scrollToLocation(listIndex);\n        }, 500);\n      }}\n      {...rest}\n    />\n  );\n};\n\nconst _renderItem = ({ section: { title }, item }: any, props: any) => {\n  const isExpanded = props?.expandedSections.has(title);\n\n  //return null if it is not expanded\n  if (!isExpanded) return null;\n\n  return (\n    <DropdownListItem\n      item={item}\n      optionLabel={props.optionLabel}\n      optionValue={props.optionValue}\n      isMultiple={props.isMultiple}\n      selectedOption={props.selectedOption}\n      onChange={props.onChange}\n      primaryColor={props.primaryColor}\n      checkboxSize={props.checkboxSize}\n      checkboxStyle={props.checkboxStyle}\n      checkboxLabelStyle={props.checkboxLabelStyle}\n      checkboxComponentStyles={props.checkboxComponentStyles}\n      checkboxComponent={props.checkboxComponent}\n    />\n  );\n};\n\nconst styles = StyleSheet.create({\n  contentContainerStyle: { paddingTop: 20 },\n});\n\nexport default DropdownSectionList;\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,iBAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,OAAA,GAAAJ,OAAA;AAKA,IAAAK,MAAA,GAAAL,OAAA;AAAuD,SAAAG,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAX,wBAAAO,GAAA,EAAAI,WAAA,SAAAA,WAAA,IAAAJ,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAQ,KAAA,GAAAL,wBAAA,CAAAC,WAAA,OAAAI,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,CAAAT,OAAA,GAAAF,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AAAA,SAAAW,SAAA,IAAAA,QAAA,GAAAT,MAAA,CAAAU,MAAA,GAAAV,MAAA,CAAAU,MAAA,CAAAC,IAAA,eAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,GAAAF,SAAA,CAAAD,CAAA,YAAAV,GAAA,IAAAa,MAAA,QAAAhB,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAU,MAAA,EAAAb,GAAA,KAAAS,MAAA,CAAAT,GAAA,IAAAa,MAAA,CAAAb,GAAA,gBAAAS,MAAA,YAAAH,QAAA,CAAAQ,KAAA,OAAAH,SAAA,KATvD;AAYA,MAAMI,mBAAmB,GAAGC,IAAA,IAoBjB;EAAA,IApBkB;IAC3BC,OAAO;IACPC,WAAW;IACXC,WAAW;IACXC,UAAU;IACVC,YAAY;IACZC,aAAa;IACbC,YAAY;IACZC,wBAAwB;IACxBC,qBAAqB;IACrBC,YAAY;IACZC,YAAY;IACZC,aAAa;IACbC,kBAAkB;IAClBC,uBAAuB;IACvBC,iBAAiB;IACjBC,mBAAmB;IACnBC,SAAS;IACTC,gBAAgB;IAChB,GAAGC;EACA,CAAC,GAAAnB,IAAA;EACJ,MAAM,CAACoB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG,IAAAC,eAAQ,EAAC,IAAIC,GAAG,CAAC,CAAC,CAAC;;EAEnE;AACF;AACA;EACE,IAAAC,gBAAS,EAAC,MAAM;IACd,IAAIC,YAAY,GAAG,IAAIF,GAAG,CAAC,IAAAG,+BAAwB,EAACzB,OAAO,EAAE,OAAO,CAAC,CAAC;IACtEoB,mBAAmB,CAACI,YAAY,CAAC;EACnC,CAAC,EAAE,CAACxB,OAAO,CAAC,CAAC;;EAEb;AACF;AACA;EACE,MAAM0B,yBAAyB,GAAIC,KAAa,IAAK;IACnDP,mBAAmB,CAAEQ,qBAAqB,IAAK;MAC7C;MACA,MAAMC,IAAI,GAAG,IAAIP,GAAG,CAACM,qBAAqB,CAAC;MAC3C,IAAIC,IAAI,CAACrD,GAAG,CAACmD,KAAK,CAAC,EAAE;QACnBE,IAAI,CAACC,MAAM,CAACH,KAAK,CAAC;MACpB,CAAC,MAAM;QACLE,IAAI,CAACE,GAAG,CAACJ,KAAK,CAAC;MACjB;MACA,OAAOE,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;;EAED;AACF;AACA;;EAEE,MAAMG,cAAc,GAAG,IAAAC,aAAM,EAA4B,IAAI,CAAC;EAE9D,MAAMC,gBAAgB,GAAIlB,SAAc,IAAK;IAAA,IAAAmB,qBAAA;IAC3C,CAAAA,qBAAA,GAAAH,cAAc,CAACI,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBD,gBAAgB,CAAC;MACvCG,YAAY,EAAErB,SAAS,CAACqB,YAAY;MACpCC,QAAQ,EAAE,IAAI;MACdC,SAAS,EAAEvB,SAAS,CAACuB;IACvB,CAAC,CAAC;EACJ,CAAC;EAED,IAAAhB,gBAAS,EAAC,MAAM;IACd,IAAIP,SAAS,CAACuB,SAAS,IAAI,CAAC,IAAIvB,SAAS,CAACqB,YAAY,IAAI,CAAC,EAAE;MAC3DH,gBAAgB,CAAClB,SAAS,CAAC;IAC7B;EACF,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,oBACEzD,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC9E,YAAA,CAAA+E,WAAW,EAAApD,QAAA;IACVqD,QAAQ,EAAE1C,OAAQ;IAClB2C,SAAS,EAAExC,UAAU,GAAGE,aAAa,GAAGC,YAAa;IACrDsC,kBAAkB,EAAE,CAAE;IACtBC,kBAAkB,eAChBtF,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC3E,OAAA,CAAAgF,kBAAkB;MACjBC,uBAAuB,EAAE/B,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAE+B,uBAAwB;MACtE7B,gBAAgB,EAAEA;IAAiB,CACpC,CACF;IACD8B,qBAAqB,EAAE,CACrB3C,YAAY,GAAG;MAAE4C,UAAU,EAAE;IAAE,CAAC,GAAGC,MAAM,CAACF,qBAAqB,CAC/D;IACFG,sBAAsB,EAAEA,CAAA,kBACtB3F,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC3E,OAAA,CAAAqF,sBAAsB;MACrBC,kBAAkB,EAAEpC,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAEoC;IAAmB,CAC7D,CACD;IACFC,UAAU,EAAGC,IAAI,IACfC,WAAW,CAACD,IAAI,EAAE;MAChBpD,WAAW;MACXC,WAAW;MACXC,UAAU;MACVoD,cAAc,EAAEpD,UAAU,GAAGE,aAAa,GAAGC,YAAY;MACzDkD,QAAQ,EAAErD,UAAU,GAChBI,wBAAwB,GACxBC,qBAAqB;MACzBC,YAAY;MACZC,YAAY;MAAE;MACdC,aAAa;MAAE;MACfC,kBAAkB;MAAE;MACpBC,uBAAuB;MACvBC,iBAAiB;MACjBK;IACF,CAAC,CACF;IACDsC,mBAAmB,EAAEC,KAAA;MAAA,IAAC;QAAEC,OAAO,EAAE;UAAEhC;QAAM;MAAE,CAAC,GAAA+B,KAAA;MAAA,oBAC1CnG,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC3E,OAAA,CAAA+F,kBAAkB;QACjBjC,KAAK,EAAEA,KAAM;QACbkC,kBAAkB,EAAE9C,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAE8C,kBAAmB;QAC5DC,OAAO,EAAEA,CAAA,KAAMpC,yBAAyB,CAACC,KAAK,CAAE;QAChDoC,UAAU,EAAE5C,gBAAgB,CAAC3C,GAAG,CAACmD,KAAK;MAAE,CACzC,CAAC;IAAA,CACF;IACFqC,YAAY,EAAEA,CAACC,KAAK,EAAEC,KAAK,KAAM,UAASA,KAAM,EAAE;IAClDC,2BAA2B,EAAE,KAAM;IACnCC,GAAG,EAAEpC,cAAe;IACpBqC,qBAAqB,EAAEA,CAAA,KAAM;MAC3BC,UAAU,CAAC,MAAM;QACfpC,gBAAgB,CAAClB,SAAS,CAAC;MAC7B,CAAC,EAAE,GAAG,CAAC;IACT;EAAE,GACEE,IAAI,CACT,CAAC;AAEN,CAAC;AAED,MAAMoC,WAAW,GAAGA,CAAAiB,KAAA,EAAoCC,KAAU,KAAK;EAAA,IAAlD;IAAEb,OAAO,EAAE;MAAEhC;IAAM,CAAC;IAAE0B;EAAU,CAAC,GAAAkB,KAAA;EACpD,MAAMR,UAAU,GAAGS,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAErD,gBAAgB,CAAC3C,GAAG,CAACmD,KAAK,CAAC;;EAErD;EACA,IAAI,CAACoC,UAAU,EAAE,OAAO,IAAI;EAE5B,oBACExG,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC7E,iBAAA,CAAAM,OAAgB;IACfoF,IAAI,EAAEA,IAAK;IACXpD,WAAW,EAAEuE,KAAK,CAACvE,WAAY;IAC/BC,WAAW,EAAEsE,KAAK,CAACtE,WAAY;IAC/BC,UAAU,EAAEqE,KAAK,CAACrE,UAAW;IAC7BoD,cAAc,EAAEiB,KAAK,CAACjB,cAAe;IACrCC,QAAQ,EAAEgB,KAAK,CAAChB,QAAS;IACzB/C,YAAY,EAAE+D,KAAK,CAAC/D,YAAa;IACjCC,YAAY,EAAE8D,KAAK,CAAC9D,YAAa;IACjCC,aAAa,EAAE6D,KAAK,CAAC7D,aAAc;IACnCC,kBAAkB,EAAE4D,KAAK,CAAC5D,kBAAmB;IAC7CC,uBAAuB,EAAE2D,KAAK,CAAC3D,uBAAwB;IACvDC,iBAAiB,EAAE0D,KAAK,CAAC1D;EAAkB,CAC5C,CAAC;AAEN,CAAC;AAED,MAAMmC,MAAM,GAAGwB,uBAAU,CAACC,MAAM,CAAC;EAC/B3B,qBAAqB,EAAE;IAAEC,UAAU,EAAE;EAAG;AAC1C,CAAC,CAAC;AAAC,IAAA2B,QAAA,GAEY7E,mBAAmB;AAAA8E,OAAA,CAAA3G,OAAA,GAAA0G,QAAA"}